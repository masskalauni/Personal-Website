<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .app__earphone {
            position: fixed;
            right: .5rem;
            bottom: .75rem;
            background-color: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center
        }

        .app__earphone-img {
            width: 34px;
            height: 34px
        }

        .app__earphone-span {
            opacity: 0;
            transition: all 1s ease;
            transform: translateY(20px);
        }

        .app__earphone-span_show {
            transition: all 1s ease;
        }

        .app__earphone-span_show:hover {
            transform: translateY(0);
            opacity: 1;
        }

        .app__earphone-audio {
            display: none;
            opacity: 0
        }

        .app__earphone-tooltip {
            position: absolute;
            bottom: 4px;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            color: black;
            display: none;
            opacity: 0;
            transition: all 1s ease;
        }

        .app__earphone:hover .app__earphone-tooltip {
            display: block;
            opacity: 1;
        }
    </style>
</head>
<body>
    <button class="app__earphone" onclick="toggleSound()">
        <img src="assets/img/favicon/Pk_files/earphone sound off.svg" alt="Earphone" class="app__earphone-img" id="earphone-img">
        <span class="app__earphone-span" id="earphone-text">Sound Off</span>
        <div class="app__earphone-tooltip" id="earphone-tooltip"></div>
        <audio autoplay="" class="app__audio" id="audio" onended="audioEnded()"></audio>
    </button>

    
</body>
<script>
    
    
    var audio = document.getElementById('audio');
    var earphoneImg = document.getElementById('earphone-img');
    var earphoneText = document.getElementById('earphone-text');
    var earphoneTooltip = document.getElementById('earphone-tooltip');

    function toggleSound() {
        if (audio.paused || audio.ended) {
            // If paused or ended, play the audio
            audio.play();
            earphoneImg.src = 'assets/img/favicon/Pk_files/on_earphone.svg';
            earphoneText.textContent = 'Sound On';
            earphoneTooltip.textContent = ' sound off';
        } else {
            // If playing, pause the audio
            audio.pause();
            earphoneImg.src = 'assets/img/favicon/Pk_files/earphone sound off.svg';
            earphoneText.textContent = 'Sound Off';
            earphoneTooltip.textContent = ' sound on';
        }
    }

    function audioEnded() {
        // Reset the visuals when the audio ends
        earphoneImg.src = 'assets/img/favicon/Pk_files/earphone sound off.svg';
        earphoneText.textContent = 'Sound Off';
        earphoneTooltip.textContent = ' sound on';
    }
</script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text-to-Speech Example</title>
    <style>
        /* Add your styles here */
    </style>
</head>
<body>

    <p>Select some text in this paragraph to hear it spoken.</p>

    <script>
        document.addEventListener('selectionchange', handleSelectionChange);

        let utterance = new SpeechSynthesisUtterance();

        // List available voices
        speechSynthesis.onvoiceschanged = function() {
            const voices = speechSynthesis.getVoices();

            // Find a female voice
            const femaleVoice = voices.find(voice => voice.name.toLowerCase().includes('female'));

            // Set the voice to the first available female voice, or use the first available voice
            utterance.voice = femaleVoice || voices[0];
            
            // Adjust the rate for a natural pace (1 is the default, lower values are slower, higher values are faster)
            utterance.rate = 1.1;
        };

        function handleSelectionChange() {
            const selection = window.getSelection().toString().trim();

            if (selection) {
                speakText(selection);
            }
        }

        function speakText(text) {
            // Cancel any previous speech to avoid interruptions
            speechSynthesis.cancel();

            utterance.text = text;
            speechSynthesis.speak(utterance);
        }
    </script>
</body>
</html>









<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automatic Speech Recognition</title>
    <style>
        .highlight {
            background-color: yellow;
        }
    </style>
</head>
<body>

    <p id="content">The recognized words will be highlighted.</p>

    <script>
        const contentElement = document.getElementById('content');
        const recognition = new webkitSpeechRecognition() || SpeechRecognition();
        recognition.lang = 'en-US';

        // Check if the user has already granted permission
        const hasPermission = localStorage.getItem('speechRecognitionPermission') === 'granted';

        if (hasPermission) {
            // If permission is granted, start speech recognition
            recognition.start();
        }

        recognition.onresult = function(event) {
            const transcript = event.results[0][0].transcript;
            console.log('Recognized:', transcript);

            // Highlight the recognized words
            highlightRecognizedWords(transcript);
        };

        recognition.onend = function() {
            console.log('Speech recognition ended');
            // Restart speech recognition
            recognition.start();
        };

        function highlightRecognizedWords(transcript) {
            const words = transcript.split(' ');

            // Remove previous highlights
            contentElement.innerHTML = contentElement.textContent;

            // Iterate through words and highlight each occurrence
            words.forEach(word => {
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                contentElement.innerHTML = contentElement.innerHTML.replace(regex, `<span class="highlight">${word}</span>`);
            });
        }

        // Request permission on user interaction
        document.addEventListener('click', () => {
            if (!hasPermission) {
                recognition.start();
                localStorage.setItem('speechRecognitionPermission', 'granted');
            }
        });
    </script>
</body>
</html>
